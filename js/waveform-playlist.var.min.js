var WaveformPlaylist=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="js/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?(0,l["default"])():arguments[1];if(void 0===e.container)throw new Error("DOM element container must be given.");var n=new(window.AudioContext||window.webkitAudioContext),r={ac:n,sampleRate:n.sampleRate,samplesPerPixel:4096,mono:!0,fadeType:"logarithmic",timescale:!1,controls:{show:!1,width:150},colors:{waveOutlineColor:"white",timeColor:"grey",fadeColor:"black"},waveHeight:128,state:"cursor",zoomLevels:[512,1024,2048,4096]},o=(0,a["default"])(r,e),i=o.zoomLevels.indexOf(o.samplesPerPixel);if(-1===i)throw new Error("initial samplesPerPixel must be included in array zoomLevels");var u=new h["default"];u.setSampleRate(o.sampleRate),u.setSamplesPerPixel(o.samplesPerPixel),u.setAudioContext(o.ac),u.setEventEmitter(t),u.setUpEventEmitter(),u.setTimeSelection(0,0),u.setState(o.state),u.setControlOptions(o.controls),u.setWaveHeight(o.waveHeight),u.setColors(o.colors),u.setZoomLevels(o.zoomLevels),u.setZoomIndex(i),u.setMono(o.mono);var c=u.render(),f=(0,s["default"])(c);return o.container.appendChild(f),u.tree=c,u.rootNode=f,u}Object.defineProperty(t,"__esModule",{value:!0}),t.init=o;var i=n(17),a=r(i),u=n(69),s=r(u),c=n(14),l=r(c),f=n(24),h=r(f)},function(e,t){"use strict";function n(e,t){return e/t}function r(e,t){return Math.ceil(e*t)}function o(e,t){return~~(e/t)}function i(e,t){return~~(e*t)}function a(e,t,n){return e*t/n}function u(e,t,n){return Math.ceil(e*n/t)}Object.defineProperty(t,"__esModule",{value:!0}),t.samplesToSeconds=n,t.secondsToSamples=r,t.samplesToPixels=o,t.pixelsToSamples=i,t.pixelsToSeconds=a,t.secondsToPixels=u},function(e,t){function n(e){return e&&"Widget"===e.type}e.exports=n},function(e,t,n){function r(e){return e&&"VirtualNode"===e.type&&e.version===o}var o=n(4);e.exports=r},function(e,t){e.exports="2"},function(e,t){function n(e){return e&&"Thunk"===e.type}e.exports=n},function(e,t){function n(e){return e&&("function"==typeof e.hook&&!e.hasOwnProperty("hook")||"function"==typeof e.unhook&&!e.hasOwnProperty("unhook"))}e.exports=n},function(e,t,n){function r(e){return e&&"VirtualText"===e.type&&e.version===o}var o=n(4);e.exports=r},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t){var n=(0,p.sCurve)(1e4,1);this.setValueCurveAtTime(n,e,t)}function o(e,t){var n=(0,p.sCurve)(1e4,-1);this.setValueCurveAtTime(n,e,t)}function i(e,t){this.linearRampToValueAtTime(0,e),this.linearRampToValueAtTime(1,e+t)}function a(e,t){this.linearRampToValueAtTime(1,e),this.linearRampToValueAtTime(0,e+t)}function u(e,t){this.exponentialRampToValueAtTime(.01,e),this.exponentialRampToValueAtTime(1,e+t)}function s(e,t){this.exponentialRampToValueAtTime(1,e),this.exponentialRampToValueAtTime(.01,e+t)}function c(e,t){var n=(0,p.logarithmic)(1e4,10,1);this.setValueCurveAtTime(n,e,t)}function l(e,t){var n=(0,p.logarithmic)(1e4,10,-1);this.setValueCurveAtTime(n,e,t)}function f(e,t,n,o){switch(t){case d:r.call(e,n,o);break;case v:i.call(e,n,o);break;case y:u.call(e,n,o);break;case m:c.call(e,n,o);break;default:throw new Error("Unsupported Fade type")}}function h(e,t,n,r){switch(t){case d:o.call(e,n,r);break;case v:a.call(e,n,r);break;case y:s.call(e,n,r);break;case m:l.call(e,n,r);break;default:throw new Error("Unsupported Fade type")}}Object.defineProperty(t,"__esModule",{value:!0}),t.FADEOUT=t.FADEIN=t.LOGARITHMIC=t.EXPONENTIAL=t.LINEAR=t.SCURVE=void 0,t.createFadeIn=f,t.createFadeOut=h;var p=n(15),d=t.SCURVE="sCurve",v=t.LINEAR="linear",y=t.EXPONENTIAL="exponential",m=t.LOGARITHMIC="logarithmic";t.FADEIN="FadeIn",t.FADEOUT="FadeOut"},function(e,t){function n(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function r(e,t){if("function"!=typeof e)throw new TypeError(f);return t=O(void 0===t?e.length-1:c(t),0),function(){for(var r=arguments,o=-1,i=O(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var u=Array(t+1);for(o=-1;++o<t;)u[o]=r[o];return u[t]=a,n(e,this,u)}}function o(e){var t=i(e)?x.call(e):"";return t==v||t==y}function i(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function a(e){return!!e&&"object"==typeof e}function u(e){return"symbol"==typeof e||a(e)&&x.call(e)==m}function s(e){if(!e)return 0===e?e:0;if(e=l(e),e===h||e===-h){var t=0>e?-1:1;return t*p}return e===e?e:0}function c(e){var t=s(e),n=t%1;return t===t?n?t-n:t:0}function l(e){if("number"==typeof e)return e;if(u(e))return d;if(i(e)){var t=o(e.valueOf)?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(g,"");var n=k.test(e);return n||w.test(e)?_(e.slice(2),n?2:8):b.test(e)?d:+e}var f="Expected a function",h=1/0,p=1.7976931348623157e308,d=NaN,v="[object Function]",y="[object GeneratorFunction]",m="[object Symbol]",g=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,w=/^0o[0-7]+$/i,_=parseInt,P=Object.prototype,x=P.toString,O=Math.max;e.exports=r},function(e,t,n){var r=n(78);e.exports=r},function(e,t){function n(e){return"[object Array]"===o.call(e)}var r=Array.isArray,o=Object.prototype.toString;e.exports=r||n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.STATE_FINISHED=t.STATE_DECODING=t.STATE_LOADING=t.STATE_UNINITIALIZED=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(14),u=r(a),s=t.STATE_UNINITIALIZED=0,c=t.STATE_LOADING=1,l=t.STATE_DECODING=2,f=t.STATE_FINISHED=3,h=function(){function e(t,n){o(this,e),this.src=t,this.ac=n,this.audioRequestState=s,this.ee=(0,u["default"])()}return i(e,[{key:"fileProgress",value:function(e){var t=0;this.audioRequestState===s&&(this.audioRequestState=c,this.ee.emit("audiorequeststatechange",this)),e.lengthComputable&&(t=e.loaded/e.total*100),this.ee.emit("progress",t)}},{key:"fileLoad",value:function(e){var t=this,n=e.target.response||e.target.result;return this.audioRequestState=l,this.ee.emit("audiorequeststatechange",this),new Promise(function(e,r){t.ac.decodeAudioData(n,function(n){t.audioBuffer=n,t.audioRequestState=f,t.ee.emit("audiorequeststatechange",t),e(n)},function(e){r(Error("Unable to decode Audio Data for "+t.src))})})}}]),e}();t["default"]=h},function(e,t,n){"use strict";var r,o,i,a,u,s,c,l=n(42),f=n(51),h=Function.prototype.apply,p=Function.prototype.call,d=Object.create,v=Object.defineProperty,y=Object.defineProperties,m=Object.prototype.hasOwnProperty,g={configurable:!0,enumerable:!1,writable:!0};r=function(e,t){var n;return f(t),m.call(this,"__ee__")?n=this.__ee__:(n=g.value=d(null),v(this,"__ee__",g),g.value=null),n[e]?"object"==typeof n[e]?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},o=function(e,t){var n,o;return f(t),o=this,r.call(this,e,n=function(){i.call(o,e,n),h.call(t,this,arguments)}),n.__eeOnceListener__=t,this},i=function(e,t){var n,r,o,i;if(f(t),!m.call(this,"__ee__"))return this;if(n=this.__ee__,!n[e])return this;if(r=n[e],"object"==typeof r)for(i=0;o=r[i];++i)(o===t||o.__eeOnceListener__===t)&&(2===r.length?n[e]=r[i?0:1]:r.splice(i,1));else(r===t||r.__eeOnceListener__===t)&&delete n[e];return this},a=function(e){var t,n,r,o,i;if(m.call(this,"__ee__")&&(o=this.__ee__[e]))if("object"==typeof o){for(n=arguments.length,i=new Array(n-1),t=1;n>t;++t)i[t-1]=arguments[t];for(o=o.slice(),t=0;r=o[t];++t)h.call(r,this,i)}else switch(arguments.length){case 1:p.call(o,this);break;case 2:p.call(o,this,arguments[1]);break;case 3:p.call(o,this,arguments[1],arguments[2]);break;default:for(n=arguments.length,i=new Array(n-1),t=1;n>t;++t)i[t-1]=arguments[t];h.call(o,this,i)}},u={on:r,once:o,off:i,emit:a},s={on:l(r),once:l(o),off:l(i),emit:l(a)},c=y({},s),e.exports=t=function(e){return null==e?d(c):y(Object(e),s)},t.methods=u},function(e,t){"use strict";function n(e,t){var n,r,o=new Float32Array(e),i=e-1;for(n=0;e>n;n++)r=n/i,t>0?o[n]=r:o[n]=1-r;return o}function r(e,t){var n,r,o,i=new Float32Array(e),a=e-1;for(n=0;e>n;n++)r=n/a,o=t>0?n:e-1-n,i[o]=Math.exp(2*r-1)/Math.exp(1);return i}function o(e,t){var n,r=new Float32Array(e),o=t>0?Math.PI/2:-(Math.PI/2);for(n=0;e>n;++n)r[n]=Math.sin(Math.PI*n/e-o)/2+.5;return r}function i(e,t,n){var r,o,i=new Float32Array(e),a=0;for(o=0;e>o;o++)r=n>0?o:e-1-o,a=o/e,i[r]=Math.log(1+t*a)/Math.log(1+t);return i}Object.defineProperty(t,"__esModule",{value:!0}),t.linear=n,t.exponential=r,t.sCurve=o,t.logarithmic=i},function(e,t){"use strict";e.exports=function(e){return"object"==typeof e&&null!==e}},function(e,t,n){function r(e,t,n){var r=e[t];_.call(e,t)&&l(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function o(e){return function(t){return null==t?void 0:t[e]}}function i(e,t,n,o){n||(n={});for(var i=-1,a=t.length;++i<a;){var u=t[i],s=o?o(n[u],e[u],u,n,e):e[u];r(n,u,s)}return n}function a(e){return y(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&s(n[0],n[1],a)&&(i=3>o?void 0:i,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,i)}return t})}function u(e,t){return t=null==t?m:t,!!t&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&t>e}function s(e,t,n){if(!d(n))return!1;var r=typeof t;return("number"==r?f(n)&&u(t,n.length):"string"==r&&t in n)?l(n[t],e):!1}function c(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||w;return e===n}function l(e,t){return e===t||e!==e&&t!==t}function f(e){return null!=e&&p(T(e))&&!h(e)}function h(e){var t=d(e)?P.call(e):"";return t==g||t==b}function p(e){return"number"==typeof e&&e>-1&&e%1==0&&m>=e}function d(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var v=n(18),y=n(10),m=9007199254740991,g="[object Function]",b="[object GeneratorFunction]",k=/^(?:0|[1-9]\d*)$/,w=Object.prototype,_=w.hasOwnProperty,P=w.toString,x=w.propertyIsEnumerable,O=!x.call({valueOf:1},"valueOf"),T=o("length"),j=a(function(e,t){if(O||c(t)||f(t))return void i(t,v(t),e);for(var n in t)_.call(t,n)&&r(e,n,t[n])});e.exports=j},function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function r(e,t){return T.call(e,t)||"object"==typeof e&&t in e&&null===a(e)}function o(e){return A(Object(e))}function i(e){return function(t){return null==t?void 0:t[e]}}function a(e){return S(Object(e))}function u(e){var t=e?e.length:void 0;return d(t)&&(I(e)||m(e)||l(e))?n(t,String):null}function s(e,t){return t=null==t?b:t,!!t&&("number"==typeof e||x.test(e))&&e>-1&&e%1==0&&t>e}function c(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||O;return e===n}function l(e){return h(e)&&T.call(e,"callee")&&(!E.call(e,"callee")||j.call(e)==k)}function f(e){return null!=e&&d(R(e))&&!p(e)}function h(e){return y(e)&&f(e)}function p(e){var t=v(e)?j.call(e):"";return t==w||t==_}function d(e){return"number"==typeof e&&e>-1&&e%1==0&&b>=e}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){return!!e&&"object"==typeof e}function m(e){return"string"==typeof e||!I(e)&&y(e)&&j.call(e)==P}function g(e){var t=c(e);if(!t&&!f(e))return o(e);var n=u(e),i=!!n,a=n||[],l=a.length;for(var h in e)!r(e,h)||i&&("length"==h||s(h,l))||t&&"constructor"==h||a.push(h);return a}var b=9007199254740991,k="[object Arguments]",w="[object Function]",_="[object GeneratorFunction]",P="[object String]",x=/^(?:0|[1-9]\d*)$/,O=Object.prototype,T=O.hasOwnProperty,j=O.toString,E=O.propertyIsEnumerable,S=Object.getPrototypeOf,A=Object.keys,R=i("length"),I=Array.isArray;e.exports=g},function(e,t,n){(function(t){var r="undefined"!=typeof t?t:"undefined"!=typeof window?window:{},o=n(86);if("undefined"!=typeof document)e.exports=document;else{var i=r["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),e.exports=i}}).call(t,function(){return this}())},function(e,t,n){function r(e,t,n){for(var r in t){var a=t[r];void 0===a?o(e,r,a,n):s(a)?(o(e,r,a,n),a.hook&&a.hook(e,r,n?n[r]:void 0)):u(a)?i(e,t,n,r,a):e[r]=a}}function o(e,t,n,r){if(r){var o=r[t];if(s(o))o.unhook&&o.unhook(e,t,n);else if("attributes"===t)for(var i in o)e.removeAttribute(i);else if("style"===t)for(var a in o)e.style[a]="";else"string"==typeof o?e[t]="":e[t]=null}}function i(e,t,n,r,o){var i=n?n[r]:void 0;if("attributes"!==r){if(i&&u(i)&&a(i)!==a(o))return void(e[r]=o);u(e[r])||(e[r]={});var s="style"===r?"":void 0;for(var c in o){var l=o[c];e[r][c]=void 0===l?s:l}}else for(var f in o){var h=o[f];void 0===h?e.removeAttribute(f):e.setAttribute(f,h)}}function a(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var u=n(16),s=n(6);e.exports=r},function(e,t,n){function r(e,t){var n=t?t.document||o:o,l=t?t.warn:null;if(e=c(e).a,s(e))return e.init();if(u(e))return n.createTextNode(e.text);if(!a(e))return l&&l("Item is not a valid virtual dom node",e),null;var f=null===e.namespace?n.createElement(e.tagName):n.createElementNS(e.namespace,e.tagName),h=e.properties;i(f,h);for(var p=e.children,d=0;d<p.length;d++){var v=r(p[d],t);v&&f.appendChild(v)}return f}var o=n(19),i=n(20),a=n(3),u=n(7),s=n(2),c=n(22);e.exports=r},function(e,t,n){function r(e,t){var n=e,r=t;return s(t)&&(r=o(t,e)),s(e)&&(n=o(e,null)),{a:n,b:r}}function o(e,t){var n=e.vnode;if(n||(n=e.vnode=e.render(t)),!(i(n)||a(n)||u(n)))throw new Error("thunk did not return a valid node");return n}var i=n(3),a=n(7),u=n(2),s=n(5);e.exports=r},function(e,t,n){function r(e,t,n){this.type=Number(e),this.vNode=t,this.patch=n}var o=n(4);r.NONE=0,r.VTEXT=1,r.VNODE=2,r.WIDGET=3,r.PROPS=4,r.ORDER=5,r.INSERT=6,r.REMOVE=7,r.THUNK=8,e.exports=r,r.prototype.version=o,r.prototype.type="VirtualPatch"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(64),u=r(a),s=n(11),c=r(s),l=n(70),f=r(l),h=n(71),p=r(h),d=n(1),v=n(33),y=r(v),m=n(30),g=r(m),b=n(26),k=r(b),w=n(27),_=r(w),P=n(25),x=r(P),O=n(85),T=r(O),j=function(){function e(){o(this,e),this.tracks=[],this.soloedTracks=[],this.mutedTracks=[],this.playoutPromises=[],this.cursor=0,this.playbackSeconds=0,this.duration=0,this.scrollLeft=0,this.fadeType="logarithmic"}return i(e,[{key:"initRecorder",value:function(e){var t=this;if(e instanceof LocalMediaStream!=!0)throw new Error("Must provide a LocalMediaStream to record from");this.mediaRecorder=new MediaRecorder(e),this.mediaRecorder.onstart=function(e){var n=new _["default"];n.setName("Recording"),n.setEnabledStates(),n.setEventEmitter(t.ee),t.recordingTrack=n,t.tracks.push(n),t.chunks=[]},this.mediaRecorder.ondataavailable=function(e){t.chunks.push(e.data);var n=new Blob(t.chunks,{type:"audio/ogg; codecs=opus"}),r=y["default"].createLoader(n,t.ac);r.load().then(function(e){t.recorderWorker.postMessage({samples:e.getChannelData(0),samplesPerPixel:t.samplesPerPixel}),t.recordingTrack.setCues(0,e.duration),t.recordingTrack.setBuffer(e),t.recordingTrack.setPlayout(new x["default"](t.ac,e)),t.adjustDuration()})},this.recorderWorker=new T["default"],this.recorderWorker.onmessage=function(e){t.recordingTrack.setPeaks(e.data),t.draw(t.render())}}},{key:"setMono",value:function(e){this.mono=e}},{key:"setSampleRate",value:function(e){this.sampleRate=e}},{key:"setSamplesPerPixel",value:function(e){this.samplesPerPixel=e}},{key:"setAudioContext",value:function(e){this.ac=e}},{key:"setControlOptions",value:function(e){this.controls=e}},{key:"setWaveHeight",value:function(e){this.waveHeight=e}},{key:"setColors",value:function(e){this.colors=e}},{key:"setEventEmitter",value:function(e){this.ee=e}},{key:"getEventEmitter",value:function(){return this.ee}},{key:"setUpEventEmitter",value:function(){var e=this,t=this.ee;t.on("select",function(t,n,r){e.isPlaying()?(e.lastSeeked=t,e.pausedAt=void 0,e.restartPlayFrom(t)):(e.playbackSeconds=0,e.setTimeSelection(t,n),e.setActiveTrack(r),e.draw(e.render()))}),t.on("statechange",function(t){e.setState(t),e.draw(e.render())}),t.on("shift",function(t,n){n.setStartTime(n.getStartTime()+t),e.adjustDuration(),e.draw(e.render())}),t.on("record",function(){e.record()}),t.on("play",function(t,n){e.play(t,n)}),t.on("pause",function(){e.pause()}),t.on("stop",function(){e.stop()}),t.on("rewind",function(){e.rewind()}),t.on("fastforward",function(){e.fastForward()}),t.on("solo",function(t){e.soloTrack(t),e.adjustTrackPlayout(),e.draw(e.render())}),t.on("mute",function(t){e.muteTrack(t),e.adjustTrackPlayout(),e.draw(e.render())}),t.on("volumechange",function(e,t){t.setGainLevel(e/100)}),t.on("fadein",function(t,n){n.setFadeIn(t,e.fadeType),e.draw(e.render())}),t.on("fadeout",function(t,n){n.setFadeOut(t,e.fadeType),e.draw(e.render())}),t.on("fadetype",function(t){e.fadeType=t}),t.on("newtrack",function(t){e.load([{src:t,name:t.name}])}),t.on("trim",function(){var t=e.getActiveTrack(),n=e.getTimeSelection();t.trim(n.start,n.end),t.calculatePeaks(e.samplesPerPixel,e.sampleRate),e.setTimeSelection(0,0),e.draw(e.render())}),t.on("zoomin",function(){var t=Math.max(0,e.zoomIndex-1),n=e.zoomLevels[t];n!==e.samplesPerPixel&&(e.setZoom(n),e.draw(e.render()))}),t.on("zoomout",function(){var t=Math.min(e.zoomLevels.length-1,e.zoomIndex+1),n=e.zoomLevels[t];n!==e.samplesPerPixel&&(e.setZoom(n),e.draw(e.render()))}),t.on("scroll",function(){e.draw(e.render())})}},{key:"load",value:function(e){var t=this,n=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e.map(function(e){var n=y["default"].createLoader(e.src,t.ac);return n.load()}));return Promise.all(n).then(function(n){var r=n.map(function(n,r){var o=e[r],i=o.name||"Untitled",a=o.start||0,u=o.states||{},s=o.fadeIn,c=o.fadeOut,l=o.cuein||0,f=o.cueout||n.duration,h=o.selected,p=o.peaks||{type:"WebAudio",mono:t.mono},d=new x["default"](t.ac,n),v=new _["default"];return v.src=o.src,v.setBuffer(n),v.setName(i),v.setEventEmitter(t.ee),v.setEnabledStates(u),v.setCues(l,f),void 0!==s&&v.setFadeIn(s.duration,s.shape),void 0!==c&&v.setFadeOut(c.duration,c.shape),void 0!==h&&(t.setActiveTrack(v),t.setTimeSelection(h.start,h.end)),void 0!==p&&v.setPeakData(p),v.setState(t.getState()),v.setStartTime(a),v.setPlayout(d),v.calculatePeaks(t.samplesPerPixel,t.sampleRate),v});t.tracks=t.tracks.concat(r),t.adjustDuration(),t.draw(t.render())})}},{key:"setActiveTrack",value:function(e){this.activeTrack=e}},{key:"getActiveTrack",value:function(){return this.activeTrack}},{key:"setTimeSelection",value:function(e,t){this.timeSelection={start:e,end:t},this.cursor=e}},{key:"getTimeSelection",value:function(){return this.timeSelection}},{key:"setState",value:function(e){this.state=e,this.tracks.forEach(function(t){t.setState(e)})}},{key:"getState",value:function(){return this.state}},{key:"setZoomIndex",value:function(e){this.zoomIndex=e}},{key:"setZoomLevels",value:function(e){this.zoomLevels=e}},{key:"setZoom",value:function(e){var t=this;this.samplesPerPixel=e,this.zoomIndex=this.zoomLevels.indexOf(e),this.tracks.forEach(function(n){n.calculatePeaks(e,t.sampleRate)})}},{key:"muteTrack",value:function(e){var t=this.mutedTracks,n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e)}},{key:"soloTrack",value:function(e){var t=this.soloedTracks,n=t.indexOf(e);n>-1?t.splice(n,1):t.push(e)}},{key:"adjustTrackPlayout",value:function(){var e,t=this;this.tracks.forEach(function(n){e=t.shouldTrackPlay(n)?1:0,n.setMasterGainLevel(e)})}},{key:"adjustDuration",value:function(){this.duration=this.tracks.reduce(function(e,t){return Math.max(e,t.getEndTime())},0)}},{key:"shouldTrackPlay",value:function(e){var t;return this.soloedTracks.length>0?(t=!1,this.soloedTracks.indexOf(e)>-1&&(t=!0)):(t=!0,this.mutedTracks.indexOf(e)>-1&&(t=!1)),t}},{key:"isPlaying",value:function(){return this.tracks.reduce(function(e,t){return e||t.isPlaying()},!1)}},{key:"getCurrentTime",value:function(){var e=this.lastSeeked||this.pausedAt||this.cursor;return e+this.getElapsedTime()}},{key:"getElapsedTime",value:function(){return this.ac.currentTime-this.lastPlay}},{key:"restartPlayFrom",value:function(e,t){return this.stopAnimation(),this.tracks.forEach(function(e){e.scheduleStop()}),Promise.all(this.playoutPromises).then(this.play.bind(this,e,t))}},{key:"play",value:function(e,t){var n=this,r=this.ac.currentTime,o=this.getTimeSelection(),i=[];return e=e||this.pausedAt||this.cursor,!t&&o.end!==o.start&&o.end>e&&(t=o.end),this.isPlaying()?void this.restartPlayFrom(e,t):(this.tracks.forEach(function(o){o.setState("cursor"),i.push(o.schedulePlay(r,e,t,{masterGain:n.shouldTrackPlay(o)?1:0}))}),this.lastPlay=r,this.playoutPromises=i,this.startAnimation(e),Promise.all(this.playoutPromises))}},{key:"pause",value:function(){return this.isPlaying()?(this.pausedAt=this.getCurrentTime(),this.playbackReset()):void 0}},{key:"stop",value:function(){return this.mediaRecorder&&"recording"===this.mediaRecorder.state&&this.mediaRecorder.stop(),this.pausedAt=void 0,this.playbackSeconds=0,this.playbackReset()}},{key:"playbackReset",value:function(){var e=this;return this.lastSeeked=void 0,this.stopAnimation(),this.tracks.forEach(function(t){t.scheduleStop(),t.setState(e.getState())}),this.draw(this.render()),Promise.all(this.playoutPromises)}},{key:"rewind",value:function(){var e=this;return this.stop().then(function(){e.scrollLeft=0,e.ee.emit("select",0,0)})}},{key:"fastForward",value:function(){var e=this;return this.stop().then(function(){e.viewDuration<e.duration?e.scrollLeft=e.duration-e.viewDuration:e.scrollLeft=0,e.ee.emit("select",e.duration,e.duration)})}},{key:"record",value:function(){var e=this,t=[];this.mediaRecorder.start(300),this.tracks.forEach(function(n){n.setState("none"),t.push(n.schedulePlay(e.ac.currentTime,0,void 0,{masterGain:e.shouldTrackPlay(n)?1:0}))}),this.playoutPromises=t}},{key:"startAnimation",value:function(e){this.lastDraw=this.ac.currentTime,this.animationRequest=window.requestAnimationFrame(this.updateEditor.bind(this,e))}},{key:"stopAnimation",value:function(){window.cancelAnimationFrame(this.animationRequest),this.lastDraw=void 0}},{key:"updateEditor",value:function(e){var t=this.ac.currentTime,n=0,r=void 0;e=e||this.cursor,r=t-this.lastDraw,this.isPlaying()?(n=e+r,this.ee.emit("timeupdate",n),this.animationRequest=window.requestAnimationFrame(this.updateEditor.bind(this,n))):(this.stopAnimation(),this.pausedAt=void 0,this.lastSeeked=void 0,this.setState(this.getState())),this.playbackSeconds=n,this.draw(this.render()),this.lastDraw=t}},{key:"draw",value:function(e){var t=this;window.requestAnimationFrame(function(){var n=(0,f["default"])(t.tree,e);t.rootNode=(0,p["default"])(t.rootNode,n),t.tree=e,t.viewDuration=(0,d.pixelsToSeconds)(t.rootNode.clientWidth-t.controls.width,t.samplesPerPixel,t.sampleRate)})}},{key:"getTrackRenderData",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t={height:this.waveHeight,resolution:this.samplesPerPixel,sampleRate:this.sampleRate,controls:this.controls,isActive:!1,timeSelection:this.getTimeSelection(),playlistLength:this.duration,playbackSeconds:this.playbackSeconds,colors:this.colors};return(0,u["default"])(e,t)}},{key:"render",value:function(){var e=this,t=this.controls.show?this.controls.width:0,n=new k["default"](this.duration,this.scrollLeft,this.samplesPerPixel,this.sampleRate,t),r=this.getActiveTrack(),o=this.tracks.map(function(t){return t.render(e.getTrackRenderData({isActive:r===t?!0:!1,masterGain:e.shouldTrackPlay(t)?1:0,soloed:e.soloedTracks.indexOf(t)>-1,muted:e.mutedTracks.indexOf(t)>-1}))});return(0,c["default"])("div.playlist",{attributes:{style:"overflow: hidden; position: relative;"}},[n.render(),(0,c["default"])("div.playlist-tracks",{attributes:{style:"overflow: auto;"},onscroll:function(t){e.scrollLeft=(0,d.pixelsToSeconds)(t.target.scrollLeft,e.samplesPerPixel,e.sampleRate),e.ee.emit("scroll",e.scrollLeft)},hook:new g["default"](this,this.samplesPerPixel,this.sampleRate)},o)])}},{key:"getInfo",value:function(){var e=[];return this.tracks.forEach(function(t){e.push(t.getTrackDetails())}),e}}]),e}();t["default"]=j},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(9),a="FadeIn",u="FadeOut",s=function(){function e(t,n){r(this,e),this.ac=t,this.gain=1,this.buffer=n,this.destination=this.ac.destination}return o(e,[{key:"applyFade",value:function(e,t,n){var r=arguments.length<=3||void 0===arguments[3]?"logarithmic":arguments[3];if(e===a)(0,i.createFadeIn)(this.fadeGain.gain,r,t,n);else{if(e!==u)throw new Error("Unsupported fade type");(0,i.createFadeOut)(this.fadeGain.gain,r,t,n)}}},{key:"applyFadeIn",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?"logarithmic":arguments[2];this.applyFade(a,e,t,n)}},{key:"applyFadeOut",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?"logarithmic":arguments[2];this.applyFade(u,e,t,n)}},{key:"isPlaying",value:function(){return void 0!==this.source}},{key:"getDuration",value:function(){return this.buffer.duration}},{key:"setUpSource",value:function(){var e,t=this;return this.source=this.ac.createBufferSource(),this.source.buffer=this.buffer,e=new Promise(function(e,n){t.source.onended=function(n){t.source.disconnect(),t.fadeGain.disconnect(),t.outputGain.disconnect(),t.masterGain.disconnect(),t.source=void 0,t.fadeGain=void 0,t.outputGain=void 0,t.masterGain=void 0,e()}}),this.fadeGain=this.ac.createGain(),this.outputGain=this.ac.createGain(),this.masterGain=this.ac.createGain(),this.source.connect(this.fadeGain),this.fadeGain.connect(this.outputGain),this.outputGain.connect(this.masterGain),this.masterGain.connect(this.destination),e}},{key:"setGainLevel",value:function(e){this.outputGain&&(this.outputGain.gain.value=e)}},{key:"setMasterGainLevel",value:function(e){this.masterGain&&(this.masterGain.gain.value=e)}},{key:"play",value:function(e,t,n){this.source.start(e,t,n)}},{key:"stop",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];this.source&&this.source.stop(e)}}]),e}();t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),u=n(11),s=r(u),c=n(31),l=r(c),f=function(){function e(t,n,r,i){var a=arguments.length<=4||void 0===arguments[4]?0:arguments[4];o(this,e),this.duration=t,this.offset=n,this.samplesPerPixel=r,this.sampleRate=i,this.marginLeft=a,this.timeinfo={2e4:{marker:3e4,bigStep:1e4,smallStep:5e3,secondStep:5},12e3:{marker:15e3,bigStep:5e3,smallStep:1e3,secondStep:1},1e4:{marker:1e4,bigStep:5e3,smallStep:1e3,secondStep:1},5e3:{marker:5e3,bigStep:1e3,smallStep:500,secondStep:.5},2500:{marker:2e3,bigStep:1e3,smallStep:500,secondStep:.5},1500:{marker:2e3,bigStep:1e3,smallStep:200,secondStep:.2},700:{marker:1e3,bigStep:500,smallStep:100,secondStep:.1}}}return i(e,[{key:"getScaleInfo",value:function(e){var t,n,r;for(t=Object.keys(this.timeinfo).map(function(e){return parseInt(e,10)}),t=t.sort(function(e,t){return e-t}),n=0,r=t.length;r>n;n++)if(e<=t[n])return this.timeinfo[t[n]]}},{key:"formatTime",value:function(e){var t,n,r,o;return o=e/1e3,r=o%60,n=(o-r)/60,10>r&&(r="0"+r),t=n+":"+r}},{key:"render",value:function(){var e=(0,a.secondsToPixels)(this.duration,this.samplesPerPixel,this.sampleRate),t=this.sampleRate/this.samplesPerPixel,n=(0,a.secondsToPixels)(this.offset,this.samplesPerPixel,this.sampleRate),r=this.getScaleInfo(this.samplesPerPixel),o={},i=[],u=void 0,c=e+n,f=void 0,h=void 0,p=0;for(u=0;c>u;u+=t*r.secondStep)f=~~u,h=f-n,f>=n&&(r.marker&&p%r.marker===0?(i.push((0,s["default"])("div.time",{attributes:{style:"position: absolute; left: "+h+"px;"}},[this.formatTime(p)])),o[h]=10):r.bigStep&&p%r.bigStep===0?o[h]=5:r.smallStep&&p%r.smallStep===0&&(o[h]=2)),p+=1e3*r.secondStep;return(0,s["default"])("div.playlist-time-scale",{attributes:{style:"position: relative; left: 0; right: 0; margin-left: "+this.marginLeft+"px;"}},[i,(0,s["default"])("canvas",{attributes:{width:e,height:30,style:"position: absolute; left: 0; right: 0; top: 0; bottom: 0;"},hook:new l["default"](o,this.offset,this.samplesPerPixel,this.duration)})])}}]),e}();t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(17),u=r(a),s=n(65),c=r(s),l=n(68),f=r(l),h=n(11),p=r(h),d=n(1),v=n(84),y=r(v),m=n(35),g=r(m),b=n(28),k=r(b),w=n(29),_=r(w),P=n(9),x=1e3,O=function(){function e(){o(this,e),this.name="Untitled",this.gain=1,this.fades={},this.peakData={type:"WebAudio",mono:!1},this.cueIn=0,this.cueOut=0,this.duration=0,this.startTime=0,this.endTime=0}return i(e,[{key:"setEventEmitter",value:function(e){this.ee=e}},{key:"setName",value:function(e){this.name=e}},{key:"setCues",value:function(e,t){if(e>t)throw new Error("cue out cannot be less than cue in");this.cueIn=e,this.cueOut=t,this.duration=this.cueOut-this.cueIn,this.endTime=this.startTime+this.duration}},{key:"trim",value:function(e,t){var n=this.getStartTime(),r=this.getEndTime(),o=this.cueIn-n;if(e>=n&&r>=e||t>=n&&r>=t){var i=n>e?n:e,a=t>r?r:t;this.setCues(i+o,a+o),e>n&&this.setStartTime(e)}}},{key:"setStartTime",value:function(e){this.startTime=e,this.endTime=e+this.duration}},{key:"setPlayout",value:function(e){this.playout=e}},{key:"setEnabledStates",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t={cursor:!0,fadein:!0,fadeout:!0,select:!0,shift:!0};this.enabledStates=(0,u["default"])(t,e)}},{key:"setFadeIn",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"logarithmic":arguments[1];if(e>this.duration)throw new Error("Invalid Fade In");var n={shape:t,start:0,end:e};this.fadeIn&&(this.removeFade(this.fadeIn),this.fadeIn=void 0),this.fadeIn=this.saveFade(P.FADEIN,n.shape,n.start,n.end)}},{key:"setFadeOut",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?"logarithmic":arguments[1];if(e>this.duration)throw new Error("Invalid Fade Out");var n={shape:t,start:this.duration-e,end:this.duration};this.fadeOut&&(this.removeFade(this.fadeOut),
this.fadeOut=void 0),this.fadeOut=this.saveFade(P.FADEOUT,n.shape,n.start,n.end)}},{key:"saveFade",value:function(e,t,n,r){var o=f["default"].v4();return this.fades[o]={type:e,shape:t,start:n,end:r},o}},{key:"removeFade",value:function(e){delete this.fades[e]}},{key:"setBuffer",value:function(e){this.buffer=e}},{key:"setPeakData",value:function(e){this.peakData=e}},{key:"calculatePeaks",value:function(e,t){var n=(0,d.secondsToSamples)(this.cueIn,t),r=(0,d.secondsToSamples)(this.cueOut,t);this.setPeaks((0,y["default"])(this.buffer,e,this.peakData.mono,n,r))}},{key:"setPeaks",value:function(e){this.peaks=e}},{key:"setState",value:function(e){this.state=e}},{key:"getStartTime",value:function(){return this.startTime}},{key:"getEndTime",value:function(){return this.endTime}},{key:"getDuration",value:function(){return this.duration}},{key:"isPlaying",value:function(){return this.playout.isPlaying()}},{key:"setGainLevel",value:function(e){this.gain=e,this.playout.setGainLevel(e)}},{key:"setMasterGainLevel",value:function(e){this.playout.setMasterGainLevel(e)}},{key:"schedulePlay",value:function(e,t,n,r){var o,i,a,u,s=this,l=e,f=n?n-t:void 0;return this.endTime<=t||f&&t+f<this.startTime?Promise.resolve():(this.startTime>=t?(o=0,l=l+this.startTime-t,n?(f-=this.startTime-t,i=Math.min(f,this.duration)):i=this.duration):(o=t-this.startTime,i=n?Math.min(f,this.duration-o):this.duration-o),o+=this.cueIn,a=t-this.startTime,u=this.playout.setUpSource(),(0,c["default"])(this.fades,function(t){var n=void 0,r=void 0;if(a<t.end)switch(a<=t.start?(n=e+(t.start-a),r=t.end-t.start):a>t.start&&a<t.end&&(n=e-(a-t.start),r=t.end-t.start),t.type){case P.FADEIN:s.playout.applyFadeIn(n,r,t.shape);break;case P.FADEOUT:s.playout.applyFadeOut(n,r,t.shape);break;default:throw new Error("Invalid fade type saved on track.")}}),this.playout.setGainLevel(this.gain),this.playout.setMasterGainLevel(r.masterGain),this.playout.play(l,o,i),u)}},{key:"scheduleStop",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0];this.playout.stop(e)}},{key:"renderTimeSelection",value:function(e){var t=(0,d.secondsToPixels)(e.timeSelection.start,e.resolution,e.sampleRate),n=(0,d.secondsToPixels)(e.timeSelection.end,e.resolution,e.sampleRate),r=n-t+1,o=r>1?"segment":"point";return(0,p["default"])("div.selection."+o,{attributes:{style:"position: absolute; width: "+r+"px; bottom: 0; top: 0; left: "+t+"px; z-index: 4;"}})}},{key:"renderOverlay",value:function(e){var t=this,n=(0,d.secondsToPixels)(e.playlistLength,e.resolution,e.sampleRate),r={attributes:{style:"position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: "+n+"px; z-index: 9;"}},o="";return this.state&&this.enabledStates[this.state]&&!function(){var n=new g["default"][t.state](t,e.resolution,e.sampleRate),i=n.getEvents();Object.keys(i).map(function(e){r["on"+e]=i[e].bind(n)}),o=n.getClasses()}(),(0,p["default"])("div.playlist-overlay"+o,r)}},{key:"renderControls",value:function(e){var t=this,n=e.muted?".active":"",r=e.soloed?".active":"",o=this.peaks.data.length;return(0,p["default"])("div.controls",{attributes:{style:"height: "+o*e.height+"px; width: "+e.controls.width+"px; position: absolute; left: 0; z-index: 10;"}},[(0,p["default"])("header",[this.name]),(0,p["default"])("div.btn-group",[(0,p["default"])("span.btn.btn-default.btn-xs.btn-mute"+n,{onclick:function(){t.ee.emit("mute",t)}},["Mute"]),(0,p["default"])("span.btn.btn-default.btn-xs.btn-solo"+r,{onclick:function(){t.ee.emit("solo",t)}},["Solo"])]),(0,p["default"])("label",[(0,p["default"])("input.volume-slider",{attributes:{type:"range",min:0,max:100,value:100},oninput:function(e){t.ee.emit("volumechange",e.target.value,t)}})])])}},{key:"render",value:function(e){var t=this,n=this.peaks.length,r=(0,d.secondsToPixels)(e.playbackSeconds,e.resolution,e.sampleRate),o=(0,d.secondsToPixels)(this.startTime,e.resolution,e.sampleRate),i=(0,d.secondsToPixels)(this.endTime,e.resolution,e.sampleRate),a=0,u=this.peaks.data.length;r>0&&r>o&&(a=i>r?r-o:n);var s=[(0,p["default"])("div.cursor",{attributes:{style:"position: absolute; width: 1px; margin: 0; padding: 0; top: 0; left: "+r+"px; bottom: 0; z-index: 5;"}})],c=Object.keys(this.peaks.data).map(function(r){for(var i=[(0,p["default"])("div.channel-progress",{attributes:{style:"position: absolute; width: "+a+"px; height: "+e.height+"px; z-index: 2;"}})],u=0,s=n,c=t.peaks.data[r];s>0;){var l=Math.min(s,x);i.push((0,p["default"])("canvas",{attributes:{width:l,height:e.height,style:"float: left; position: relative; margin: 0; padding: 0; z-index: 3;"},hook:new k["default"](c,u,t.peaks.bits,e.colors.waveOutlineColor)})),s-=l,u+=x}if(t.fadeIn){var f=t.fades[t.fadeIn],h=(0,d.secondsToPixels)(f.end-f.start,e.resolution,e.sampleRate);i.push((0,p["default"])("div.wp-fade.wp-fadein",{attributes:{style:"position: absolute; height: "+e.height+"px; width: "+h+"px; top: 0; left: 0; z-index: 4;"}},[(0,p["default"])("canvas",{attributes:{width:h,height:e.height},hook:new _["default"](f.type,f.shape,f.end-f.start,e.resolution)})]))}if(t.fadeOut){var v=t.fades[t.fadeOut],y=(0,d.secondsToPixels)(v.end-v.start,e.resolution,e.sampleRate);i.push((0,p["default"])("div.wp-fade.wp-fadeout",{attributes:{style:"position: absolute; height: "+e.height+"px; width: "+y+"px; top: 0; right: 0; z-index: 4;"}},[(0,p["default"])("canvas",{attributes:{width:y,height:e.height},hook:new _["default"](v.type,v.shape,v.end-v.start,e.resolution)})]))}return(0,p["default"])("div.channel.channel-"+r,{attributes:{style:"height: "+e.height+"px; width: "+n+"px; top: "+r*e.height+"px; left: "+o+"px; position: absolute; margin: 0; padding: 0; z-index: 1;"}},i)}),l=e.masterGain?"":".silent";s.push(c),s.push(this.renderOverlay(e)),e.isActive===!0&&s.push(this.renderTimeSelection(e));var f=(0,p["default"])("div.waveform",{attributes:{style:"height: "+u*e.height+"px; position: relative;"}},s),h=[],v=0;return e.controls.show&&(h.push(this.renderControls(e)),v=e.controls.width),h.push(f),(0,p["default"])("div.channel-wrapper"+l,{attributes:{style:"margin-left: "+v+"px; height: "+e.height*u+"px;"}},h)}},{key:"getTrackDetails",value:function(){var e={src:this.src,start:this.startTime,name:this.name,cuein:this.cueIn,cueout:this.cueOut};if(this.fadeIn){var t=this.fades[this.fadeIn];e.fadeIn={shape:t.shape,duration:t.end-t.start}}if(this.fadeOut){var n=this.fades[this.fadeOut];e.fadeOut={shape:n.shape,duration:n.end-n.start}}return e}}]),e}();t["default"]=O},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n,r,o){var i=Math.abs(r*t),a=Math.abs(o*t);e.fillRect(n,0,1,t-a),e.fillRect(n,t+i,1,t-i)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r,o,i){n(this,e),this.peaks=t,this.offset=r,this.color=i,this.bits=o}return o(e,[{key:"hook",value:function(e,t,n){if(void 0===n||n.peaks.length!==this.peaks.length){var o=void 0,i=e.width,a=e.getContext("2d"),u=e.height/2,s=Math.pow(2,this.bits-1),c=void 0,l=void 0;for(a.fillStyle=this.color,o=0;i>o;o++)c=this.peaks[2*(o+this.offset)]/s,l=this.peaks[2*(o+this.offset)+1]/s,r(a,u,o,c,l)}}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){var r=t===u.FADEIN?1:-1,o=void 0;switch(e){case u.SCURVE:o=(0,s.sCurve)(n,r);break;case u.LINEAR:o=(0,s.linear)(n,r);break;case u.EXPONENTIAL:o=(0,s.exponential)(n,r);break;case u.LOGARITHMIC:o=(0,s.logarithmic)(n,10,r);break;default:throw new Error("Unsupported Fade type")}return o}function i(e,t,n,r,i){var a=void 0,u=void 0,s=void 0,c=void 0;for(e.strokeStyle="black",a=o(t,n,r),c=i-a[0]*i,e.beginPath(),e.moveTo(0,c),u=1,s=a.length;s>u;u++)c=i-a[u]*i,e.lineTo(u,c);e.stroke()}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(9),s=n(15),c=function(){function e(t,n,o,i){r(this,e),this.type=t,this.shape=n,this.duration=o,this.samplesPerPixel=i}return a(e,[{key:"hook",value:function(e,t,n){if(void 0===n||n.shape!==this.shape||n.type!==this.type||n.duration!==this.duration||n.samplesPerPixel!==this.samplesPerPixel){var r=e.getContext("2d");i(r,this.shape,this.type,e.width,e.height)}}}]),e}();t["default"]=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=function(){function e(t,n,o){r(this,e),this.track=t,this.resolution=n,this.sampleRate=o}return o(e,[{key:"hook",value:function(e,t,n){e.scrollLeft=(0,i.secondsToPixels)(this.track.scrollLeft,this.resolution,this.sampleRate)}}]),e}();t["default"]=a},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,r,o,i){n(this,e),this.tickInfo=t,this.offset=r,this.samplesPerPixel=o,this.duration=i}return r(e,[{key:"hook",value:function(e,t,n){var r=this;if(void 0===n||n.offset!==this.offset||n.duration!==this.duration||n.samplesPerPixel!==this.samplesPerPixel){var o=e.width,i=e.height,a=e.getContext("2d");a.clearRect(0,0,o,i),Object.keys(this.tickInfo).forEach(function(e){var t=r.tickInfo[e],n=i-t;a.fillRect(e,n,1,t)})}}}]),e}();t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(13),l=r(c),f=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"load",value:function(){var e=this;return new Promise(function(n,r){if(e.src.type.match(/audio.*/)){var o=new FileReader;o.readAsArrayBuffer(e.src),o.addEventListener("progress",function(n){s(Object.getPrototypeOf(t.prototype),"fileProgress",e).call(e,n)}),o.addEventListener("load",function(r){var o=s(Object.getPrototypeOf(t.prototype),"fileLoad",e).call(e,r);o.then(function(e){n(e)})}),o.addEventListener("error",function(){r(Error("Error reading Blob"))})}else r(Error("Unsupported file type "+e.src.type))})}}]),t}(l["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(32),u=r(a),s=n(34),c=r(s),l=function(){function e(){o(this,e)}return i(e,null,[{key:"createLoader",value:function(e,t){if(e instanceof Blob)return new u["default"](e,t);if("string"==typeof e)return new c["default"](e,t);throw new Error("Unsupported src type")}}]),e}();t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function h(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},c=n(13),l=r(c),f=function(e){function t(){return o(this,t),i(this,Object.getPrototypeOf(t).apply(this,arguments))}return a(t,e),u(t,[{key:"load",value:function(){var e=this;return new Promise(function(n,r){var o=new XMLHttpRequest;o.open("GET",e.src,!0),o.responseType="arraybuffer",o.send(),o.addEventListener("progress",function(n){s(Object.getPrototypeOf(t.prototype),"fileProgress",e).call(e,n)}),o.addEventListener("load",function(r){var o=s(Object.getPrototypeOf(t.prototype),"fileLoad",e).call(e,r);o.then(function(e){n(e)})}),o.addEventListener("error",function(){r(Error("Track "+e.src+" failed to load"))})})}}]),t}(l["default"]);t["default"]=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(36),i=r(o),a=n(39),u=r(a),s=n(40),c=r(s),l=n(37),f=r(l),h=n(38),p=r(h);t["default"]={cursor:i["default"],select:u["default"],shift:c["default"],fadein:f["default"],fadeout:p["default"]}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=function(){function e(t,n,o){r(this,e),this.track=t,this.samplesPerPixel=n,this.sampleRate=o}return o(e,[{key:"click",value:function(e){e.preventDefault();var t=e.offsetX,n=(0,i.pixelsToSeconds)(t,this.samplesPerPixel,this.sampleRate);this.track.ee.emit("select",n,n,this.track)}},{key:"getClasses",value:function(){return".state-cursor"}},{key:"getEvents",value:function(){return{click:this.click}}}]),e}();t["default"]=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=function(){function e(t,n,o){r(this,e),this.track=t,this.samplesPerPixel=n,this.sampleRate=o}return o(e,[{key:"click",value:function(e){var t=e.offsetX,n=(0,i.pixelsToSeconds)(t,this.samplesPerPixel,this.sampleRate);n>this.track.getStartTime()&&n<this.track.getEndTime()&&this.track.ee.emit("fadein",n-this.track.getStartTime(),this.track)}},{key:"getClasses",value:function(){return".state-fadein"}},{key:"getEvents",value:function(){return{click:this.click}}}]),e}();t["default"]=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=function(){function e(t,n,o){r(this,e),this.track=t,this.samplesPerPixel=n,this.sampleRate=o}return o(e,[{key:"click",value:function(e){var t=e.offsetX,n=(0,i.pixelsToSeconds)(t,this.samplesPerPixel,this.sampleRate);n>this.track.getStartTime()&&n<this.track.getEndTime()&&this.track.ee.emit("fadeout",this.track.getEndTime()-n,this.track)}},{key:"getClasses",value:function(){return".state-fadeout"}},{key:"getEvents",value:function(){return{click:this.click}}}]),e}();t["default"]=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=function(){function e(t,n,o){r(this,e),this.track=t,this.samplesPerPixel=n,this.sampleRate=o}return o(e,[{key:"mousedown",value:function(e){var t=this;e.preventDefault();var n=e.target,r=e.offsetX,o=(0,i.pixelsToSeconds)(r,this.samplesPerPixel,this.sampleRate);this.track.ee.emit("select",o,o,this.track);var a=function(e){var n=Math.min(e,r),o=Math.max(e,r),a=(0,i.pixelsToSeconds)(n,t.samplesPerPixel,t.sampleRate),u=(0,i.pixelsToSeconds)(o,t.samplesPerPixel,t.sampleRate);t.track.ee.emit("select",a,u,t.track)},u=function(e){e.preventDefault(),a(e.offsetX),n.onmousemove=n.onmouseup=n.onmouseleave=null};n.onmousemove=function(e){e.preventDefault(),a(e.offsetX)},n.onmouseup=n.onmouseleave=u}},{key:"getClasses",value:function(){return".state-select"}},{key:"getEvents",value:function(){return{mousedown:this.mousedown}}}]),e}();t["default"]=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=function(){function e(t,n,o){r(this,e),this.track=t,this.samplesPerPixel=n,this.sampleRate=o}return o(e,[{key:"mousedown",value:function(e){var t=this;e.preventDefault();var n=e.target,r=e.offsetX,o=function(e){var n=e-r,o=(0,i.pixelsToSeconds)(n,t.samplesPerPixel,t.sampleRate);r=e,t.track.ee.emit("shift",o,t.track)};n.onmousemove=function(e){e.preventDefault(),o(e.offsetX)};var a=function(e){e.preventDefault(),o(e.offsetX),n.onmousemove=n.onmouseup=n.onmouseleave=null};n.onmouseup=n.onmouseleave=a}},{key:"getClasses",value:function(){return".state-shift"}},{key:"getEvents",value:function(){return{mousedown:this.mousedown}}}]),e}();t["default"]=a},function(e,t){/*!
	 * Cross-Browser Split 1.1.1
	 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
	 * Available under the MIT License
	 * ECMAScript compliant, uniform cross-browser split method
	 */
e.exports=function(e){var t,n=String.prototype.split,r=/()??/.exec("")[1]===e;return t=function(t,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return n.call(t,o,i);var a,u,s,c,l=[],f=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),h=0,o=new RegExp(o.source,f+"g");for(t+="",r||(a=new RegExp("^"+o.source+"$(?!\\s)",f)),i=i===e?-1>>>0:i>>>0;(u=o.exec(t))&&(s=u.index+u[0].length,!(s>h&&(l.push(t.slice(h,u.index)),!r&&u.length>1&&u[0].replace(a,function(){for(var t=1;t<arguments.length-2;t++)arguments[t]===e&&(u[t]=e)}),u.length>1&&u.index<t.length&&Array.prototype.push.apply(l,u.slice(1)),c=u[0].length,h=s,l.length>=i)));)o.lastIndex===u.index&&o.lastIndex++;return h===t.length?(c||!o.test(""))&&l.push(""):l.push(t.slice(h)),l.length>i?l.slice(0,i):l}}()},function(e,t,n){"use strict";var r,o=n(43),i=n(50),a=n(46),u=n(53);r=e.exports=function(e,t){var n,r,a,s,c;return arguments.length<2||"string"!=typeof e?(s=t,t=e,e=null):s=arguments[2],null==e?(n=a=!0,r=!1):(n=u.call(e,"c"),r=u.call(e,"e"),a=u.call(e,"w")),c={value:t,configurable:n,enumerable:r,writable:a},s?o(i(s),c):c},r.gs=function(e,t,n){var r,s,c,l;return"string"!=typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],null==t?t=void 0:a(t)?null==n?n=void 0:a(n)||(c=n,n=void 0):(c=t,t=n=void 0),null==e?(r=!0,s=!1):(r=u.call(e,"c"),s=u.call(e,"e")),l={get:t,set:n,configurable:r,enumerable:s},c?o(i(c),l):l}},function(e,t,n){"use strict";e.exports=n(44)()?Object.assign:n(45)},function(e,t){"use strict";e.exports=function(){var e,t=Object.assign;return"function"!=typeof t?!1:(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(47),o=n(52),i=Math.max;e.exports=function(e,t){var n,a,u,s=i(arguments.length,2);for(e=Object(o(e)),u=function(r){try{e[r]=t[r]}catch(o){n||(n=o)}},a=1;s>a;++a)t=arguments[a],r(t).forEach(u);if(void 0!==n)throw n;return e}},function(e,t){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";e.exports=n(48)()?Object.keys:n(49)},function(e,t){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t){"use strict";var n=Object.keys;e.exports=function(e){return n(null==e?e:Object(e))}},function(e,t){"use strict";var n=Array.prototype.forEach,r=Object.create,o=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=r(null);return n.call(arguments,function(e){null!=e&&o(Object(e),t)}),t}},function(e,t){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},function(e,t){"use strict";e.exports=function(e){if(null==e)throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";e.exports=n(54)()?String.prototype.contains:n(55)},function(e,t){"use strict";var n="razdwatrzy";e.exports=function(){return"function"!=typeof n.contains?!1:n.contains("dwa")===!0&&n.contains("foo")===!1}},function(e,t){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";function r(e){var t=e[a];return t||(t=e[a]={}),t}var o=n(58),i="7";o("ev-store",i);var a="__EV_STORE_KEY@"+i;e.exports=r},function(e,t){(function(t){"use strict";function n(e,t){return e in r?r[e]:(r[e]=t,t)}var r="undefined"!=typeof window?window:"undefined"!=typeof t?t:{};e.exports=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t,n){var r="__INDIVIDUAL_ONE_VERSION_"+e,i=r+"_ENFORCE_SINGLETON",a=o(i,t);if(a!==t)throw new Error("Can only have one copy of "+e+".\nYou already have version "+a+" installed.\nThis means you cannot install version "+t);return o(r,n)}var o=n(57);e.exports=r},function(e,t){function n(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),u=a.length;u--;){var s=a[e?u:++o];if(n(i[s],s,i)===!1)break}return t}}var r=n();e.exports=r},function(e,t,n){(function(e,r){function o(e,t){for(var n=-1,r=e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function i(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function a(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function u(e,t){return o(t,function(t){return[t,e[t]]})}function s(e){return e&&e.Object===Object?e:null}function c(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function l(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function f(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function h(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function p(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function d(){this.__data__=Xt?Xt(null):{}}function v(e){return this.has(e)&&delete this.__data__[e]}function y(e){var t=this.__data__;if(Xt){var n=t[e];return n===De?void 0:n}return Ct.call(t,e)?t[e]:void 0}function m(e){var t=this.__data__;return Xt?void 0!==t[e]:Ct.call(t,e)}function g(e,t){var n=this.__data__;return n[e]=Xt&&void 0===t?De:t,this}function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function k(){this.__data__=[]}function w(e){var t=this.__data__,n=V(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():Gt.call(t,n,1),!0}function _(e){var t=this.__data__,n=V(t,e);return 0>n?void 0:t[n][1]}function P(e){return V(this.__data__,e)>-1}function x(e,t){var n=this.__data__,r=V(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function T(){this.__data__={hash:new p,map:new($t||b),string:new p}}function j(e){return oe(this,e)["delete"](e)}function E(e){return oe(this,e).get(e)}function S(e){return oe(this,e).has(e)}function A(e,t){return oe(this,e).set(e,t),this}function R(e){var t=-1,n=e?e.length:0;for(this.__data__=new O;++t<n;)this.add(e[t])}function I(e){return this.__data__.set(e,De),this}function C(e){return this.__data__.has(e)}function M(e){this.__data__=new b(e)}function F(){this.__data__=new b}function N(e){return this.__data__["delete"](e)}function L(e){return this.__data__.get(e)}function D(e){return this.__data__.has(e)}function G(e,t){var n=this.__data__;return n instanceof b&&n.__data__.length==Le&&(n=this.__data__=new O(n.__data__)),n.set(e,t),this}function V(e,t){for(var n=e.length;n--;)if(be(e[n][0],t))return n;return-1}function z(e,t){t=he(t,e)?[t]:Q(t);for(var n=0,r=t.length;null!=e&&r>n;)e=e[me(t[n++])];return n&&n==r?e:void 0}function U(e,t){return Ct.call(e,t)||"object"==typeof e&&t in e&&null===ue(e)}function $(e,t){return t in Object(e)}function H(e,t,n,r,o){return e===t?!0:null==e||null==t||!Oe(e)&&!Te(t)?e!==e&&t!==t:W(e,t,H,n,r,o)}function W(e,t,n,r,o,i){var a=nn(e),u=nn(t),s=He,l=He;a||(s=se(e),s=s==$e?Je:s),u||(l=se(t),l=l==$e?Je:l);var f=s==Je&&!c(e),h=l==Je&&!c(t),p=s==l;if(p&&!f)return i||(i=new M),a||Ae(e)?te(e,t,n,r,o,i):ne(e,t,s,n,r,o,i);if(!(o&Ve)){var d=f&&Ct.call(e,"__wrapped__"),v=h&&Ct.call(t,"__wrapped__");if(d||v){var y=d?e.value():e,m=v?t.value():t;return i||(i=new M),n(y,m,r,o,i)}}return p?(i||(i=new M),re(e,t,n,r,o,i)):!1}function q(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var u=n[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<i;){u=n[o];var s=u[0],c=e[s],l=u[1];if(a&&u[2]){if(void 0===c&&!(s in e))return!1}else{var f=new M;if(r)var h=r(c,l,s,e,t,f);if(!(void 0===h?H(l,c,r,Ge|Ve,f):h))return!1}}return!0}function X(e){return"function"==typeof e?e:null==e?Me:"object"==typeof e?nn(e)?K(e[0],e[1]):Z(e):Fe(e)}function B(e){return zt(Object(e))}function Z(e){var t=ie(e);return 1==t.length&&t[0][2]?ye(t[0][0],t[0][1]):function(n){return n===e||q(n,e,t)}}function K(e,t){return he(e)&&ve(t)?ye(me(e),t):function(n){var r=Re(n,e);return void 0===r&&r===t?Ie(n,e):H(t,r,void 0,Ge|Ve)}}function Y(e){return function(t){return null==t?void 0:t[e]}}function J(e){return function(t){return z(t,e)}}function Q(e){return nn(e)?e:Ne(e)}function ee(e){return function(t){var n=se(t);return n==Ke?l(t):n==tt?h(t):u(t,e(t))}}function te(e,t,n,r,o,a){var u=o&Ve,s=e.length,c=t.length;if(s!=c&&!(u&&c>s))return!1;var l=a.get(e);if(l)return l==t;var f=-1,h=!0,p=o&Ge?new R:void 0;for(a.set(e,t);++f<s;){var d=e[f],v=t[f];if(r)var y=u?r(v,d,f,t,e,a):r(d,v,f,e,t,a);if(void 0!==y){if(y)continue;h=!1;break}if(p){if(!i(t,function(e,t){return p.has(t)||d!==e&&!n(d,e,r,o,a)?void 0:p.add(t)})){h=!1;break}}else if(d!==v&&!n(d,v,r,o,a)){h=!1;break}}return a["delete"](e),h}function ne(e,t,n,r,o,i,a){switch(n){case at:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case it:return e.byteLength==t.byteLength&&r(new Lt(e),new Lt(t))?!0:!1;case We:case qe:return+e==+t;case Xe:return e.name==t.name&&e.message==t.message;case Ye:return e!=+e?t!=+t:e==+t;case et:case nt:return e==t+"";case Ke:var u=l;case tt:var s=i&Ve;if(u||(u=f),e.size!=t.size&&!s)return!1;var c=a.get(e);return c?c==t:(i|=Ge,a.set(e,t),te(u(e),u(t),r,o,i,a));case rt:if(en)return en.call(e)==en.call(t)}return!1}function re(e,t,n,r,o,i){var a=o&Ve,u=Ce(e),s=u.length,c=Ce(t),l=c.length;if(s!=l&&!a)return!1;for(var f=s;f--;){var h=u[f];if(!(a?h in t:U(t,h)))return!1}var p=i.get(e);if(p)return p==t;var d=!0;i.set(e,t);for(var v=a;++f<s;){h=u[f];var y=e[h],m=t[h];if(r)var g=a?r(m,y,h,t,e,i):r(y,m,h,e,t,i);if(!(void 0===g?y===m||n(y,m,r,o,i):g)){d=!1;break}v||(v="constructor"==h)}if(d&&!v){var b=e.constructor,k=t.constructor;b!=k&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof k&&k instanceof k)&&(d=!1)}return i["delete"](e),d}function oe(e,t){var n=e.__data__;return pe(t)?n["string"==typeof t?"string":"hash"]:n.map}function ie(e){for(var t=rn(e),n=t.length;n--;)t[n][2]=ve(t[n][1]);return t}function ae(e,t){var n=e[t];return je(n)?n:void 0}function ue(e){return Vt(Object(e))}function se(e){return Mt.call(e)}function ce(e,t,n){t=he(t,e)?[t]:Q(t);for(var r,o=-1,i=t.length;++o<i;){var a=me(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;var i=e?e.length:0;return!!i&&xe(i)&&fe(a,i)&&(nn(e)||Ee(e)||ke(e))}function le(e){var t=e?e.length:void 0;return xe(t)&&(nn(e)||Ee(e)||ke(e))?a(t,String):null}function fe(e,t){return t=null==t?Ue:t,!!t&&("number"==typeof e||kt.test(e))&&e>-1&&e%1==0&&t>e}function he(e,t){if(nn(e))return!1;var n=typeof e;return"number"==n||"symbol"==n||"boolean"==n||null==e||Se(e)?!0:mt.test(e)||!yt.test(e)||null!=t&&e in Object(t)}function pe(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function de(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||Rt;return e===n}function ve(e){return e===e&&!Oe(e)}function ye(e,t){return function(n){return null==n?!1:n[e]===t&&(void 0!==t||e in Object(n))}}function me(e){if("string"==typeof e||Se(e))return e;var t=e+"";return"0"==t&&1/e==-ze?"-0":t}function ge(e){if(null!=e){try{return It.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function be(e,t){return e===t||e!==e&&t!==t}function ke(e){return _e(e)&&Ct.call(e,"callee")&&(!Dt.call(e,"callee")||Mt.call(e)==$e)}function we(e){return null!=e&&xe(tn(e))&&!Pe(e)}function _e(e){return Te(e)&&we(e)}function Pe(e){var t=Oe(e)?Mt.call(e):"";return t==Be||t==Ze}function xe(e){return"number"==typeof e&&e>-1&&e%1==0&&Ue>=e}function Oe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Te(e){return!!e&&"object"==typeof e}function je(e){if(!Oe(e))return!1;var t=Pe(e)||c(e)?Ft:bt;return t.test(ge(e))}function Ee(e){return"string"==typeof e||!nn(e)&&Te(e)&&Mt.call(e)==nt}function Se(e){return"symbol"==typeof e||Te(e)&&Mt.call(e)==rt}function Ae(e){return Te(e)&&xe(e.length)&&!!wt[Mt.call(e)]}function Re(e,t,n){var r=null==e?void 0:z(e,t);return void 0===r?n:r}function Ie(e,t){return null!=e&&ce(e,t,$)}function Ce(e){var t=de(e);if(!t&&!we(e))return B(e);var n=le(e),r=!!n,o=n||[],i=o.length;for(var a in e)!U(e,a)||r&&("length"==a||fe(a,i))||t&&"constructor"==a||o.push(a);return o}function Me(e){return e}function Fe(e){return he(e)?Y(me(e)):J(e)}var Ne=n(62),Le=200,De="__lodash_hash_undefined__",Ge=1,Ve=2,ze=1/0,Ue=9007199254740991,$e="[object Arguments]",He="[object Array]",We="[object Boolean]",qe="[object Date]",Xe="[object Error]",Be="[object Function]",Ze="[object GeneratorFunction]",Ke="[object Map]",Ye="[object Number]",Je="[object Object]",Qe="[object Promise]",et="[object RegExp]",tt="[object Set]",nt="[object String]",rt="[object Symbol]",ot="[object WeakMap]",it="[object ArrayBuffer]",at="[object DataView]",ut="[object Float32Array]",st="[object Float64Array]",ct="[object Int8Array]",lt="[object Int16Array]",ft="[object Int32Array]",ht="[object Uint8Array]",pt="[object Uint8ClampedArray]",dt="[object Uint16Array]",vt="[object Uint32Array]",yt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mt=/^\w*$/,gt=/[\\^$.*+?()[\]{}|]/g,bt=/^\[object .+?Constructor\]$/,kt=/^(?:0|[1-9]\d*)$/,wt={};wt[ut]=wt[st]=wt[ct]=wt[lt]=wt[ft]=wt[ht]=wt[pt]=wt[dt]=wt[vt]=!0,wt[$e]=wt[He]=wt[it]=wt[We]=wt[at]=wt[qe]=wt[Xe]=wt[Be]=wt[Ke]=wt[Ye]=wt[Je]=wt[et]=wt[tt]=wt[nt]=wt[ot]=!1;var _t={"function":!0,object:!0},Pt=_t[typeof t]&&t&&!t.nodeType?t:void 0,xt=_t[typeof e]&&e&&!e.nodeType?e:void 0,Ot=s(Pt&&xt&&"object"==typeof r&&r),Tt=s(_t[typeof self]&&self),jt=s(_t[typeof window]&&window),Et=s(_t[typeof this]&&this),St=Ot||jt!==(Et&&Et.window)&&jt||Tt||Et||Function("return this")(),At=Array.prototype,Rt=Object.prototype,It=Function.prototype.toString,Ct=Rt.hasOwnProperty,Mt=Rt.toString,Ft=RegExp("^"+It.call(Ct).replace(gt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=St.Symbol,Lt=St.Uint8Array,Dt=Rt.propertyIsEnumerable,Gt=At.splice,Vt=Object.getPrototypeOf,zt=Object.keys,Ut=ae(St,"DataView"),$t=ae(St,"Map"),Ht=ae(St,"Promise"),Wt=ae(St,"Set"),qt=ae(St,"WeakMap"),Xt=ae(Object,"create"),Bt=ge(Ut),Zt=ge($t),Kt=ge(Ht),Yt=ge(Wt),Jt=ge(qt),Qt=Nt?Nt.prototype:void 0,en=Qt?Qt.valueOf:void 0;p.prototype.clear=d,p.prototype["delete"]=v,p.prototype.get=y,p.prototype.has=m,p.prototype.set=g,b.prototype.clear=k,b.prototype["delete"]=w,b.prototype.get=_,b.prototype.has=P,b.prototype.set=x,O.prototype.clear=T,O.prototype["delete"]=j,O.prototype.get=E,O.prototype.has=S,O.prototype.set=A,R.prototype.add=R.prototype.push=I,R.prototype.has=C,M.prototype.clear=F,M.prototype["delete"]=N,M.prototype.get=L,M.prototype.has=D,M.prototype.set=G;var tn=Y("length");(Ut&&se(new Ut(new ArrayBuffer(1)))!=at||$t&&se(new $t)!=Ke||Ht&&se(Ht.resolve())!=Qe||Wt&&se(new Wt)!=tt||qt&&se(new qt)!=ot)&&(se=function(e){var t=Mt.call(e),n=t==Je?e.constructor:void 0,r=n?ge(n):void 0;if(r)switch(r){case Bt:return at;case Zt:return Ke;case Kt:return Qe;case Yt:return tt;case Jt:return ot}return t});var nn=Array.isArray,rn=ee(Ce);e.exports=X}).call(t,n(8)(e),function(){return this}())},function(e,t,n){(function(e,n){function r(e){return e&&e.Object===Object?e:null}function o(e){if("string"==typeof e)return e;if(a(e))return w?w.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}function i(e){return!!e&&"object"==typeof e}function a(e){return"symbol"==typeof e||i(e)&&g.call(e)==s}var u=1/0,s="[object Symbol]",c={"function":!0,object:!0},l=c[typeof t]&&t&&!t.nodeType?t:void 0,f=c[typeof e]&&e&&!e.nodeType?e:void 0,h=r(l&&f&&"object"==typeof n&&n),p=r(c[typeof self]&&self),d=r(c[typeof window]&&window),v=r(c[typeof this]&&this),y=h||d!==(v&&v.window)&&d||p||v||Function("return this")(),m=Object.prototype,g=m.toString,b=y.Symbol,k=b?b.prototype:void 0,w=k?k.toString:void 0;e.exports=o}).call(t,n(8)(e),function(){return this}())},function(e,t,n){(function(e,r){function o(e){return e&&e.Object===Object?e:null}function i(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function a(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function u(){this.__data__=ae?ae(null):{}}function s(e){return this.has(e)&&delete this.__data__[e]}function c(e){var t=this.__data__;if(ae){var n=t[e];return n===L?void 0:n}return te.call(t,e)?t[e]:void 0}function l(e){var t=this.__data__;return ae?void 0!==t[e]:te.call(t,e)}function f(e,t){var n=this.__data__;return n[e]=ae&&void 0===t?L:t,this}function h(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function p(){this.__data__=[]}function d(e){var t=this.__data__,n=x(t,e);if(0>n)return!1;var r=t.length-1;return n==r?t.pop():oe.call(t,n,1),!0}function v(e){var t=this.__data__,n=x(t,e);return 0>n?void 0:t[n][1]}function y(e){return x(this.__data__,e)>-1}function m(e,t){var n=this.__data__,r=x(n,e);return 0>r?n.push([e,t]):n[r][1]=t,this}function g(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function b(){this.__data__={hash:new a,map:new(ie||h),string:new a}}function k(e){return O(this,e)["delete"](e)}function w(e){return O(this,e).get(e)}function _(e){return O(this,e).has(e)}function P(e,t){return O(this,e).set(e,t),this}function x(e,t){for(var n=e.length;n--;)if(A(e[n][0],t))return n;return-1}function O(e,t){var n=e.__data__;return j(t)?n["string"==typeof t?"string":"hash"]:n.map}function T(e,t){var n=e[t];return C(n)?n:void 0}function j(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}function E(e){if(null!=e){try{return ee.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function S(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(N);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(S.Cache||g),n}function A(e,t){return e===t||e!==e&&t!==t}function R(e){var t=I(e)?ne.call(e):"";return t==D||t==G}function I(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function C(e){if(!I(e))return!1;var t=R(e)||i(e)?re:$;return t.test(E(e))}function M(e){return null==e?"":F(e)}var F=n(61),N="Expected a function",L="__lodash_hash_undefined__",D="[object Function]",G="[object GeneratorFunction]",V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,z=/[\\^$.*+?()[\]{}|]/g,U=/\\(\\)?/g,$=/^\[object .+?Constructor\]$/,H={"function":!0,object:!0},W=H[typeof t]&&t&&!t.nodeType?t:void 0,q=H[typeof e]&&e&&!e.nodeType?e:void 0,X=o(W&&q&&"object"==typeof r&&r),B=o(H[typeof self]&&self),Z=o(H[typeof window]&&window),K=o(H[typeof this]&&this),Y=X||Z!==(K&&K.window)&&Z||B||K||Function("return this")(),J=Array.prototype,Q=Object.prototype,ee=Function.prototype.toString,te=Q.hasOwnProperty,ne=Q.toString,re=RegExp("^"+ee.call(te).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=J.splice,ie=T(Y,"Map"),ae=T(Object,"create");a.prototype.clear=u,a.prototype["delete"]=s,a.prototype.get=c,a.prototype.has=l,a.prototype.set=f,h.prototype.clear=p,h.prototype["delete"]=d,h.prototype.get=v,h.prototype.has=y,h.prototype.set=m,g.prototype.clear=b,g.prototype["delete"]=k,g.prototype.get=w,g.prototype.has=_,g.prototype.set=P;var ue=S(function(e){var t=[];return M(e).replace(V,function(e,n,r,o){t.push(r?o.replace(U,"$1"):n||e)}),t});S.Cache=g,e.exports=ue}).call(t,n(8)(e),function(){return this}())},function(e,t,n){function r(e,t,n){var r=e[t];w.call(e,t)&&c(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function o(e){return function(t){return null==t?void 0:t[e]}}function i(e,t,n,o){n||(n={});for(var i=-1,a=t.length;++i<a;){var u=t[i],s=o?o(n[u],e[u],u,n,e):e[u];r(n,u,s)}return n}function a(e){return v(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,a=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&s(n[0],n[1],a)&&(i=3>o?void 0:i,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,i)}return t})}function u(e,t){return t=null==t?y:t,!!t&&("number"==typeof e||b.test(e))&&e>-1&&e%1==0&&t>e}function s(e,t,n){if(!p(n))return!1;var r=typeof t;return("number"==r?l(n)&&u(t,n.length):"string"==r&&t in n)?c(n[t],e):!1}function c(e,t){return e===t||e!==e&&t!==t}function l(e){return null!=e&&h(P(e))&&!f(e)}function f(e){var t=p(e)?_.call(e):"";return t==m||t==g}function h(e){return"number"==typeof e&&e>-1&&e%1==0&&y>=e}function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var d=n(66),v=n(10),y=9007199254740991,m="[object Function]",g="[object GeneratorFunction]",b=/^(?:0|[1-9]\d*)$/,k=Object.prototype,w=k.hasOwnProperty,_=k.toString,P=o("length"),x=a(function(e,t,n,r){i(t,d(t),e,r)});e.exports=x},function(e,t,n){function r(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function o(e,t,n,r){return void 0===e||i(e,s[n])&&!c.call(r,n)?t:e}function i(e,t){return e===t||e!==e&&t!==t}var a=n(63),u=n(10),s=Object.prototype,c=s.hasOwnProperty,l=u(function(e){return e.push(void 0,o),r(a,void 0,e)});e.exports=l},function(e,t,n){function r(e,t){return e&&i(e,t,u)}function o(e,t){return e&&r(e,a(t,3))}var i=n(59),a=n(60),u=n(18);e.exports=o},function(e,t,n){(function(e,n){function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function o(e){return e&&e.Object===Object?e:null}function i(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function a(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function u(e){return function(t){return null==t?void 0:t[e]}}function s(e){var t=e?e.length:void 0;return v(t)&&(z(e)||g(e)||f(e))?r(t,String):null}function c(e,t){return t=null==t?k:t,!!t&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&t>e}function l(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||M;return e===n}function f(e){return p(e)&&F.call(e,"callee")&&(!G.call(e,"callee")||N.call(e)==w)}function h(e){return null!=e&&v(V(e))&&!d(e)}function p(e){return m(e)&&h(e)}function d(e){var t=y(e)?N.call(e):"";return t==_||t==P}function v(e){return"number"==typeof e&&e>-1&&e%1==0&&k>=e}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){return!!e&&"object"==typeof e}function g(e){return"string"==typeof e||!z(e)&&m(e)&&N.call(e)==x}function b(e){for(var t=-1,n=l(e),r=a(e),o=r.length,i=s(e),u=!!i,f=i||[],h=f.length;++t<o;){var p=r[t];u&&("length"==p||c(p,h))||"constructor"==p&&(n||!F.call(e,p))||f.push(p)}return f}var k=9007199254740991,w="[object Arguments]",_="[object Function]",P="[object GeneratorFunction]",x="[object String]",O=/^(?:0|[1-9]\d*)$/,T={"function":!0,object:!0},j=T[typeof t]&&t&&!t.nodeType?t:void 0,E=T[typeof e]&&e&&!e.nodeType?e:void 0,S=o(j&&E&&"object"==typeof n&&n),A=o(T[typeof self]&&self),R=o(T[typeof window]&&window),I=o(T[typeof this]&&this),C=S||R!==(I&&I.window)&&R||A||I||Function("return this")(),M=Object.prototype,F=M.hasOwnProperty,N=M.toString,L=C.Reflect,D=L?L.enumerate:void 0,G=M.propertyIsEnumerable;D&&!G.call({valueOf:1},"valueOf")&&(a=function(e){return i(D(e))});var V=u("length"),z=Array.isArray;e.exports=b}).call(t,n(8)(e),function(){return this}())},function(e,t){(function(t){var n;if(t.crypto&&crypto.getRandomValues){var r=new Uint8Array(16);n=function(){return crypto.getRandomValues(r),r}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(t,function(){return this}())},function(e,t,n){function r(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>o&&(t[r+o++]=c[e])});16>o;)t[r+o++]=0;return t}function o(e,t){var n=t||0,r=s;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function i(e,t,n){var r=t&&n||0,i=t||[];e=e||{};var a=void 0!==e.clockseq?e.clockseq:p,u=void 0!==e.msecs?e.msecs:(new Date).getTime(),s=void 0!==e.nsecs?e.nsecs:v+1,c=u-d+(s-v)/1e4;if(0>c&&void 0===e.clockseq&&(a=a+1&16383),(0>c||u>d)&&void 0===e.nsecs&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=u,v=s,p=a,u+=122192928e5;var l=(1e4*(268435455&u)+s)%4294967296;i[r++]=l>>>24&255,i[r++]=l>>>16&255,i[r++]=l>>>8&255,i[r++]=255&l;var f=u/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=255&f,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=a>>>8|128,i[r++]=255&a;for(var y=e.node||h,m=0;6>m;m++)i[r+m]=y[m];return t?t:o(i)}function a(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||u)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var a=0;16>a;a++)t[r+a]=i[a];return t||o(i)}for(var u=n(67),s=[],c={},l=0;256>l;l++)s[l]=(l+256).toString(16).substr(1),c[s[l]]=l;var f=u(),h=[1|f[0],f[1],f[2],f[3],f[4],f[5]],p=16383&(f[6]<<8|f[7]),d=0,v=0,y=a;y.v1=i,y.v4=a,y.parse=r,y.unparse=o,e.exports=y},function(e,t,n){var r=n(21);e.exports=r},function(e,t,n){var r=n(83);e.exports=r},function(e,t,n){var r=n(74);e.exports=r},function(e,t){function n(e,t,n,o){return n&&0!==n.length?(n.sort(i),r(e,t,n,o,0)):{}}function r(e,t,n,i,u){if(i=i||{},e){o(n,u,u)&&(i[u]=e);var s=t.children;if(s)for(var c=e.childNodes,l=0;l<t.children.length;l++){u+=1;var f=s[l]||a,h=u+(f.count||0);o(n,u,h)&&r(c[l],f,n,i,u),u=h}}return i}function o(e,t,n){if(0===e.length)return!1;for(var r,o,i=0,a=e.length-1;a>=i;){if(r=(a+i)/2>>0,o=e[r],i===a)return o>=t&&n>=o;if(t>o)i=r+1;else{if(!(o>n))return!0;a=r-1}}return!1}function i(e,t){return e>t?1:-1}var a={};e.exports=n},function(e,t,n){function r(e,t,n){var r=e.type,c=e.vNode,p=e.patch;switch(r){case d.REMOVE:return o(t,c);case d.INSERT:return i(t,p,n);case d.VTEXT:return a(t,c,p,n);case d.WIDGET:return u(t,c,p,n);case d.VNODE:return s(t,c,p,n);case d.ORDER:return l(t,p),t;case d.PROPS:return h(t,p,c.properties),t;case d.THUNK:return f(t,n.patch(t,p,n));default:return t}}function o(e,t){var n=e.parentNode;return n&&n.removeChild(e),c(e,t),null}function i(e,t,n){var r=n.render(t,n);return e&&e.appendChild(r),e}function a(e,t,n,r){var o;if(3===e.nodeType)e.replaceData(0,e.length,n.text),o=e;else{var i=e.parentNode;o=r.render(n,r),i&&o!==e&&i.replaceChild(o,e)}return o}function u(e,t,n,r){var o,i=v(t,n);o=i?n.update(t,e)||e:r.render(n,r);var a=e.parentNode;return a&&o!==e&&a.replaceChild(o,e),i||c(e,t),o}function s(e,t,n,r){var o=e.parentNode,i=r.render(n,r);return o&&i!==e&&o.replaceChild(i,e),i}function c(e,t){"function"==typeof t.destroy&&p(t)&&t.destroy(e)}function l(e,t){for(var n,r,o,i=e.childNodes,a={},u=0;u<t.removes.length;u++)r=t.removes[u],n=i[r.from],r.key&&(a[r.key]=n),e.removeChild(n);for(var s=i.length,c=0;c<t.inserts.length;c++)o=t.inserts[c],n=a[o.key],e.insertBefore(n,o.to>=s++?null:i[o.to])}function f(e,t){return e&&t&&e!==t&&e.parentNode&&e.parentNode.replaceChild(t,e),t}var h=n(20),p=n(2),d=n(23),v=n(75);e.exports=r},function(e,t,n){function r(e,t,n){return n=n||{},n.patch=n.patch&&n.patch!==r?n.patch:o,n.render=n.render||c,n.patch(e,t,n)}function o(e,t,n){var r=a(t);if(0===r.length)return e;var o=l(e,t.a,r),s=e.ownerDocument;n.document||s===u||(n.document=s);for(var c=0;c<r.length;c++){var f=r[c];e=i(e,o[f],t[f],n)}return e}function i(e,t,n,r){if(!t)return e;var o;if(s(n))for(var i=0;i<n.length;i++)o=f(n[i],t,r),t===e&&(e=o);else o=f(n,t,r),t===e&&(e=o);return e}function a(e){var t=[];for(var n in e)"a"!==n&&t.push(Number(n));return t}var u=n(19),s=n(12),c=n(21),l=n(72),f=n(73);e.exports=r},function(e,t,n){function r(e,t){return o(e)&&o(t)?"name"in e&&"name"in t?e.id===t.id:e.init===t.init:!1}var o=n(2);e.exports=r},function(e,t,n){"use strict";function r(e){return this instanceof r?void(this.value=e):new r(e)}var o=n(56);e.exports=r,r.prototype.hook=function(e,t){var n=o(e),r=t.substr(3);n[r]=this.value},r.prototype.unhook=function(e,t){var n=o(e),r=t.substr(3);n[r]=void 0}},function(e,t){"use strict";function n(e){return this instanceof n?void(this.value=e):new n(e)}e.exports=n,n.prototype.hook=function(e,t){e[t]!==this.value&&(e[t]=this.value)}},function(e,t,n){"use strict";function r(e,t,n){var r,a,s,c,l=[];return!n&&u(t)&&(n=t,a={}),a=a||t||{},r=g(e,a),a.hasOwnProperty("key")&&(s=a.key,a.key=void 0),a.hasOwnProperty("namespace")&&(c=a.namespace,a.namespace=void 0),"INPUT"!==r||c||!a.hasOwnProperty("value")||void 0===a.value||y(a.value)||(a.value=b(a.value)),i(a),void 0!==n&&null!==n&&o(n,l,r,a),new f(r,a,l,s,c)}function o(e,t,n,r){if("string"==typeof e)t.push(new h(e));else if("number"==typeof e)t.push(new h(String(e)));else if(a(e))t.push(e);else{if(!l(e)){if(null===e||void 0===e)return;throw s({foreignObject:e,parentVnode:{tagName:n,properties:r}})}for(var i=0;i<e.length;i++)o(e[i],t,n,r)}}function i(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if(y(n))continue;"ev-"===t.substr(0,3)&&(e[t]=k(n))}}function a(e){return p(e)||d(e)||v(e)||m(e)}function u(e){return"string"==typeof e||l(e)||a(e)}function s(e){var t=new Error;return t.type="virtual-hyperscript.unexpected.virtual-element",t.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+c(e.foreignObject)+".\nThe parent vnode is:\n"+c(e.parentVnode),t.foreignObject=e.foreignObject,t.parentVnode=e.parentVnode,t}function c(e){try{return JSON.stringify(e,null,"    ")}catch(t){return String(e)}}var l=n(12),f=n(80),h=n(81),p=n(3),d=n(7),v=n(2),y=n(6),m=n(5),g=n(79),b=n(77),k=n(76);e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!e)return"DIV";var n=!t.hasOwnProperty("id"),r=o(e,i),u=null;a.test(r[1])&&(u="DIV");var s,c,l,f;for(f=0;f<r.length;f++)c=r[f],c&&(l=c.charAt(0),u?"."===l?(s=s||[],s.push(c.substring(1,c.length))):"#"===l&&n&&(t.id=c.substring(1,c.length)):u=c);return s&&(t.className&&s.push(t.className),t.className=s.join(" ")),t.namespace?u:u.toUpperCase()}var o=n(41),i=/([\.#]?[a-zA-Z0-9\u007F-\uFFFF_:-]+)/,a=/^\.|#/;e.exports=r},function(e,t,n){function r(e,t,n,r,o){this.tagName=e,this.properties=t||c,this.children=n||l,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof o?o:null;var f,h=n&&n.length||0,p=0,d=!1,v=!1,y=!1;for(var m in t)if(t.hasOwnProperty(m)){var g=t[m];s(g)&&g.unhook&&(f||(f={}),f[m]=g)}for(var b=0;h>b;b++){var k=n[b];i(k)?(p+=k.count||0,!d&&k.hasWidgets&&(d=!0),!v&&k.hasThunks&&(v=!0),y||!k.hooks&&!k.descendantHooks||(y=!0)):!d&&a(k)?"function"==typeof k.destroy&&(d=!0):!v&&u(k)&&(v=!0)}this.count=h+p,this.hasWidgets=d,this.hasThunks=v,this.hooks=f,this.descendantHooks=y}var o=n(4),i=n(3),a=n(2),u=n(5),s=n(6);e.exports=r;var c={},l=[];r.prototype.version=o,r.prototype.type="VirtualNode"},function(e,t,n){function r(e){this.text=String(e)}var o=n(4);e.exports=r,r.prototype.version=o,r.prototype.type="VirtualText"},function(e,t,n){function r(e,t){var n;for(var u in e){u in t||(n=n||{},n[u]=void 0);var s=e[u],c=t[u];if(s!==c)if(i(s)&&i(c))if(o(c)!==o(s))n=n||{},n[u]=c;else if(a(c))n=n||{},n[u]=c;else{var l=r(s,c);l&&(n=n||{},n[u]=l)}else n=n||{},n[u]=c}for(var f in t)f in e||(n=n||{},n[f]=t[f]);return n}function o(e){return Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__?e.__proto__:e.constructor?e.constructor.prototype:void 0}var i=n(16),a=n(6);e.exports=r},function(e,t,n){function r(e,t){var n={a:e};return o(e,t,n,0),n}function o(e,t,n,r){if(e!==t){var o=n[r],u=!1;if(w(e)||w(t))s(e,t,n,r);else if(null==t)k(e)||(a(e,n,r),o=n[r]),o=v(o,new m(m.REMOVE,e,t));else if(g(t))if(g(e))if(e.tagName===t.tagName&&e.namespace===t.namespace&&e.key===t.key){var c=P(e.properties,t.properties);c&&(o=v(o,new m(m.PROPS,e,c))),o=i(e,t,n,o,r)}else o=v(o,new m(m.VNODE,e,t)),u=!0;else o=v(o,new m(m.VNODE,e,t)),u=!0;else b(t)?b(e)?e.text!==t.text&&(o=v(o,new m(m.VTEXT,e,t))):(o=v(o,new m(m.VTEXT,e,t)),u=!0):k(t)&&(k(e)||(u=!0),o=v(o,new m(m.WIDGET,e,t)));o&&(n[r]=o),u&&a(e,n,r)}}function i(e,t,n,r,i){for(var a=e.children,u=h(a,t.children),s=u.children,c=a.length,l=s.length,f=c>l?c:l,p=0;f>p;p++){var d=a[p],y=s[p];i+=1,d?o(d,y,n,i):y&&(r=v(r,new m(m.INSERT,null,y))),g(d)&&d.count&&(i+=d.count);
}return u.moves&&(r=v(r,new m(m.ORDER,e,u.moves))),r}function a(e,t,n){l(e,t,n),u(e,t,n)}function u(e,t,n){if(k(e))"function"==typeof e.destroy&&(t[n]=v(t[n],new m(m.REMOVE,e,null)));else if(g(e)&&(e.hasWidgets||e.hasThunks))for(var r=e.children,o=r.length,i=0;o>i;i++){var a=r[i];n+=1,u(a,t,n),g(a)&&a.count&&(n+=a.count)}else w(e)&&s(e,null,t,n)}function s(e,t,n,o){var i=_(e,t),a=r(i.a,i.b);c(a)&&(n[o]=new m(m.THUNK,null,a))}function c(e){for(var t in e)if("a"!==t)return!0;return!1}function l(e,t,n){if(g(e)){if(e.hooks&&(t[n]=v(t[n],new m(m.PROPS,e,f(e.hooks)))),e.descendantHooks||e.hasThunks)for(var r=e.children,o=r.length,i=0;o>i;i++){var a=r[i];n+=1,l(a,t,n),g(a)&&a.count&&(n+=a.count)}}else w(e)&&s(e,null,t,n)}function f(e){var t={};for(var n in e)t[n]=void 0;return t}function h(e,t){var n=d(t),r=n.keys,o=n.free;if(o.length===t.length)return{children:t,moves:null};var i=d(e),a=i.keys,u=i.free;if(u.length===e.length)return{children:t,moves:null};for(var s=[],c=0,l=o.length,f=0,h=0;h<e.length;h++){var v,y=e[h];y.key?r.hasOwnProperty(y.key)?(v=r[y.key],s.push(t[v])):(v=h-f++,s.push(null)):l>c?(v=o[c++],s.push(t[v])):(v=h-f++,s.push(null))}for(var m=c>=o.length?t.length:o[c],g=0;g<t.length;g++){var b=t[g];b.key?a.hasOwnProperty(b.key)||s.push(b):g>=m&&s.push(b)}for(var k,w=s.slice(),_=0,P=[],x=[],O=0;O<t.length;){var T=t[O];for(k=w[_];null===k&&w.length;)P.push(p(w,_,null)),k=w[_];k&&k.key===T.key?(_++,O++):T.key?(k&&k.key&&r[k.key]!==O+1?(P.push(p(w,_,k.key)),k=w[_],k&&k.key===T.key?_++:x.push({key:T.key,to:O})):x.push({key:T.key,to:O}),O++):k&&k.key&&P.push(p(w,_,k.key))}for(;_<w.length;)k=w[_],P.push(p(w,_,k&&k.key));return P.length!==f||x.length?{children:s,moves:{removes:P,inserts:x}}:{children:s,moves:null}}function p(e,t,n){return e.splice(t,1),{from:t,key:n}}function d(e){for(var t={},n=[],r=e.length,o=0;r>o;o++){var i=e[o];i.key?t[i.key]=o:n.push(o)}return{keys:t,free:n}}function v(e,t){return e?(y(e)?e.push(t):e=[e,t],e):t}var y=n(12),m=n(23),g=n(3),b=n(7),k=n(2),w=n(5),_=n(22),P=n(82);e.exports=r},function(module,exports){"use strict";function findMinMax(e){for(var t,n=1/0,r=-(1/0),o=0,i=e.length;i>o;o++)t=e[o],n>t&&(n=t),t>r&&(r=t);return{min:n,max:r}}function convert(e,t){var n=Math.pow(2,t-1),r=0>e?e*n:e*n-1;return Math.max(-n,Math.min(n-1,r))}function extractPeaks(channel,samplesPerPixel,bits){var i,chanLength=channel.length,numPeaks=Math.ceil(chanLength/samplesPerPixel),start,end,segment,max,min,extrema,peaks=new(eval("Int"+bits+"Array"))(2*numPeaks);for(i=0;numPeaks>i;i++)start=i*samplesPerPixel,end=(i+1)*samplesPerPixel>chanLength?chanLength:(i+1)*samplesPerPixel,segment=channel.subarray(start,end),extrema=findMinMax(segment),min=convert(extrema.min,bits),max=convert(extrema.max,bits),peaks[2*i]=min,peaks[2*i+1]=max;return peaks}function makeMono(channelPeaks,bits){var numChan=channelPeaks.length,weight=1/numChan,numPeaks=channelPeaks[0].length/2,c=0,i=0,min,max,peaks=new(eval("Int"+bits+"Array"))(2*numPeaks);for(i=0;numPeaks>i;i++){for(min=0,max=0,c=0;numChan>c;c++)min+=weight*channelPeaks[c][2*i],max+=weight*channelPeaks[c][2*i+1];peaks[2*i]=min,peaks[2*i+1]=max}return[peaks]}module.exports=function(e,t,n,r,o,i){if(t=t||1e4,i=i||8,n=n||!0,[8,16,32].indexOf(i)<0)throw new Error("Invalid number of bits specified for peaks.");var a,u,s,c,l=e.numberOfChannels,f=[];if("undefined"==typeof e.subarray)for(a=0;l>a;a++)s=e.getChannelData(a),r=r||0,o=o||s.length,c=s.subarray(r,o),f.push(extractPeaks(c,t,i));else r=r||0,o=o||e.length,f.push(extractPeaks(e.subarray(r,o),t,i));return n&&f.length>1&&(f=makeMono(f,i)),u=f[0].length/2,{length:u,data:f,bits:i}}},function(e,t,n){e.exports=function(){return new Worker(n.p+"7aafad26f7b74326342d.worker.js")}},function(e,t){}]);